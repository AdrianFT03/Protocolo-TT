%!TEX encoding = UTF-8 Unicode

% ESTA SECCION LA DEBE LLENAR SOLO EL ANALISTA.
% ID: Asegurese de que el ID del Caso de uso sea único.
% Nombre: Aseurese de que esté escrito de la forma: VERBO + SUSTANTIVO + ALGO
\begin{UseCase}{CUGC1.2}{Registrar contacto}
    {
	% RESUMEN: Asegurese de que el resumen describa : Situación inicial, proceso a grandes rasgos y la condición de término. Por ejemplo: ``Cuando se tenga un alumno nuevo o se detecte que no tiene registro se da de alta mediante este CU proporcionando sus datos: personales, padres o tutores, situación académica actual y de salud. El sistema registra los datos cuando sean válidos y se pueda determinar su situación académica. Al finalizar el alumno podrá ser inscrito a los grupos disponibles''.
	El registro de contactos es de suma importancia para un buen uso de la aplicación, los contactos registrados serán a quien sea notificados en caso que el dispositivo en el que se encuentre la aplicación registre un evento de un posible percanse automovilístico.
    }
    % VERSION: Inicie con la versión 0.1 y contiúe 0.2, 0.3, hasta que sea aceptada por el evaluador será la versión 1.0. si surgen mas cambios continúe con 1.1, etc.
    \UCitem{Versión}{1.0}
    \UCccsection{Administración de Requerimientos}
    % AUTOR: Escriba su nombre completo, sin cargo ni puesto.
    \UCitem{Autor}{Adrian Flores Torres}
    % EVALUADOR: Escriba el nombre completo de quien revisará, sin cargo ni puesto.
    \UCccitem{Evaluador}{Adrian Flores Torres}
    % OPERACION: Describa el tipo de operación al que responde este Caso de Uso:
    % 	- Registro: Registra información, como dar de alta algo en el sistema
    % 	- Consulta: Consulta uno o varios registros del sistema.
    % 	- Eliminar: Elimina uno o mas registros del sistema 
    % 	- Modificar: Modifica o actualiza un registro en el sistema.
    % 	- Procesamiento en batch: Proceso que puede durar varios minutos sin que el usuario intervena demasiado.
    % 	- Negocio: Operación difícil de describir en una de las categorías anteriores por que es propia del ``negocio''.
    % 	- Reporte: Genera un reporte.
    \UCitem{Operación}{Altas}
    %Consulta, Altas Bajas y Cambios, Negocio, Reporte, Selección/Asignación de datos, Calculo masivo, etc..
    % PRIORIDAD: Con base en su conocimiento del negocio indique el nivel de importancia y urgencia que tiene este caso de uso como: Alta/Media/Baja.
    \UCccitem{Prioridad}{Alta}
    %%Importancia de este CU con respecto a los demás: Alta/Media/Baja
    % COMPLEJIDAD: Indique el grado de complejidad del Caso de uso en función de: el número de operaciones que realiza, el tamaño y numero de sus trayectorias, presentación de infomración y procesamiento. Califique con Alta/Media/Baja
    \UCccitem{Complejidad}{Media}
    %%Alta/Media/Baja
    % VOLAILIDAD: Califique la volatilidad considerando el nivel de aceptación del presente caso de uso por parte del usuario y el historial de cambios a lo largo de su existencia. Califíquela como: Muy alta/Alta/Media/Baja/Muy baja
    \UCccitem{Volatilidad}{Muy baja}
    %Muy alta/Alta/Media/Baja/Muy baja
    % MADUREZ: Estime el grado en el que tanto el analista como el usuario comprenden y están deacuerdo en que el CU deba implementarse tal y como está descrito actualmente. Valores: Muy alta/Alta/Media/Baja/Muy baja
    \UCccitem{Madurez}{Muy alta}
    % Nivel de comprensión y confianza en que el CU está completo y es corecto: Muy alta/Alta/Media/Baja/ Muy baja
    % STATUS: Coloque el status del CU para asegurarse de que sea tratado adecuadamente por los revisores y analistas:
    %	- Edición: El analista lo está describiendo o corrigiendo.
    %	- Terminado: El caso de uso esta completamente descrito o corregido, el Evaluador puede revisarlo y registrar comentarios.
    %	- Revisado: El Revisor terminó de revisarlo y considera que está listo para entregarse al usuario. El usuario lee el CU y emite su opinión por escrito.
    %	- Aprobado: El usuario lo ha aprobado para su desarrollo. Los desarrolladores se están basando en esta versión para trabajar.
    \UCitem{Estatus}{Aprobado}
    % Edición/Terminado/Evaluado/Aprobado.
    \UCitem{Fecha del último estatus}{21/Abril/2019}

    
%% Copie y pegue este bloque tantas veces como revisiones tenga el caso de uso.
%% Esta sección la debe llenar solo el Revisor
% %--------------------------------------------------------
% 	\UCccsection{Revisión Versión XX} % Anote la versión que se revisó.
% 	% FECHA: Anote la fecha en que se terminó la revisión.
% 	\UCccitem{Fecha}{Fecha en que se termino la revisión} 
% 	% EVALUADOR: Coloque el nombre completo de quien realizó la revisión.
% 	\UCccitem{Evaluador}{Nombre de quien revisó}
% 	% RESULTADO: Coloque la palabra que mas se apegue al tipo de acción que el analista debe realizar.
% 	\UCccitem{Resultado}{Corregir, Desechar, Rehacer todo, terminar.}
% 	% OBSERVACIONES: Liste los cambios que debe realizar el Analista.
% 	\UCccitem{Observaciones}{
% 		\begin{UClist}
% 			% PC: Petición de Cambio, describa el trabajo a realizar, si es posible indique la causa de la PC. Opcionalmente especifique la fecha en que considera razonable que se deba terminar la PC. No olvide que la numeración no se debe reiniciar en una segunda o tercera revisión.
% 			\RCitem{PC1}{\TODO{Descripción del pendiente}}{Fecha de entrega}
% 			\RCitem{PC2}{\TODO{Descripción del pendiente}}{Fecha de entrega}
% 			\RCitem{PC3}{\TODO{Descripción del pendiente}}{Fecha de entrega}
% 		\end{UClist}		
% 	}
% %--------------------------------------------------------

    \UCsection{Atributos}
    % HEREDA DE: Indique el Caso de Uso del cual hereda el actual, en caso de que no herede de ningún CU, elimine esta línea.
    \UCitem{Actor(es)}{\cdtRef{Usuario}{Usuario}}
    % PROPOSITO: Escriba una sentencia que defina una situación deseable por el Actor. Este mismo enunciado debe describir el ``Valor Agregado'' que se lleva el actor al ejecutar el Caso de Uso y describe también la ``Condición de Término''.
    \UCitem{Propósito}{Proporcionar mecanismo para registro de usuarios}
    % ENTRADAS: Liste y referencíe los datos de entrada al sistema durante el CU: Nombre y forma en que se debe proporcionar el dato al Caso de uso: teclado, raton, camara, lector de barras, algun sensor, etc.
    \UCitem{Entradas}{
    	\begin{UClist}
    		\UCli Pantalla \cdtIdRef{IUGC1.3}{Registrar Contacto}.
    		\begin{itemize}
    			\item \cdtRef{Contacto:nombrec}{Nombre}. \ioEscribir.
                \item \cdtRef{Contacto:pri_apec}{Primer apellido}. \ioEscribir.
                \item \cdtRef{Contacto:seg_apec}{Segundo apellido}. \ioEscribir.
                \item \cdtRef{Contacto:telefonoc}{Número de teléfono}. \ioEscribir.
                \item \cdtRef{}{¿Tu contacto tiene la App In-Hepl?}. \ioCheckBox.
    		\end{itemize}
            \UCli Pantalla \cdtIdRef{IUGC1.3A}{Registrar Contacto}.
            \begin{itemize}
                \item \cdtRef{Contacto:nombrec}{Nombre de la aseguradora}. \ioEscribir.
                \item \cdtRef{Contacto:telefonoc}{Número de teléfono}. \ioEscribir.
                \item \cdtRef{Aseguradora:no_poliza}{No. de póliza}. \ioEscribir.
                \item  \cdtRef{Aseguradora:fh_vigencia}{Fecha de vigencia}. \ioCalendario.
                \item \cdtRef{}{¿Tu contacto tiene la App In-Hepl?}. \ioCheckBox.
            \end{itemize}
            \UCli Pantalla \cdtIdRef{IUGC1.3B}{Registrar Contacto}.
            \begin{itemize}
                \item \cdtRef{Contacto:nombrec}{Nombre}. \ioEscribir.
                \item \cdtRef{}{Parentezco}. \ioSeleccionar.
                \item \cdtRef{Contacto:telefonoc}{Número de teléfono}. \ioEscribir.
                \item \cdtRef{}{¿Tu contacto tiene la App In-Hepl?}. \ioCheckBox.
            \end{itemize}
    	\end{UClist}
	
    }
    % SALIDAS: Liste y referencíe los datos de salida o resultados del sistema, Especifíque el dispositivo en donde se presentarán las salidas: pantalla, impresora, otro sistema, brazo mecánico, etc. 
    \UCitem{Salidas}{
	\begin{UClist}
		\UCli Pantalla \cdtIdRef{IUGC1.3B}{Registrar Contacto}.
            \begin{itemize}
                \item \cdtRef{}{Parentezco}. \ioObtener.
            \end{itemize}
	\end{UClist}
    }
    % PRECONDICIÓN: Son sentencias intemporales y afirmativas que declaran lo que DEBE ser siempre verdadero antes de iniciar el escenario en el caso de uso. Las precondiciones no son probadas dentro del caso de uso, son condiciones que se asumen verdaderas. Una precondición puede implicar un escenario de otro Caso de Uso que se ha completado satisfactoriamente, como por ejemplo la ``autenticación'', o más general el ``cajero se identifica y se autentica''. Craig Larman ``Use Case Model: Writing Requirements in Context''. También pueden ser escenarios ajenos al sistema que el Actor debe contemplar durante la operación pero de las que el sistema no es consciente, por ejemplo: ``El alumno debe presentar su credencial vigente'', o ``contar con el expediente físico'' ``El vehículo a asegurar debe estar en buen estado''.
    % Especifique las precondiciones indicando si son internas (escenarios provenientes de otro caso de uso) o externas, referenciando para las internas el CU correspondiente y, en caso de que aplique, la Regla de negocio que se está Reforzando con esta precondición.
    \UCitem{Precondiciones}{
	\begin{UClist}
	    \UCli {\bf Interna:} Que el usuario no se encuentre registrado.
	\end{UClist}
    }
    
    % POSTCONDICIONES: Son sentencias expresadas de manera intemporal y afirmativamente que exponen las garantías de exito o lo que DEBE ser verdadero cuando se completa exitosamente el caso de uso, sea a través de su escenario principal o a través de un flujo alternativo. La garantía debe cumplir las necesidades de todos los stakeholders.
    % Las postcondiciones en conjunto deben reflejar la condición de término del Caso de Uso y alcanzar el propósito planteado por el actor. También describe los cambios en la información y comportamiento del sistema. Indique los cambios que ocurrirán tanto dentro (Internas) como fuera (Externas) del sistema, referenciando los CU afectados por las Internas.
    \UCitem{Postcondiciones}{
	\begin{UClist}
	    \UCli {\bf Interna:} El usuario se registrará en el sistema.
	    \UCli {\bf Interna:} La cuenta del usuario estará en estado \textbf{Registrada}, como lo indica el \hyperlink{cv:Cuenta}{Modelo del ciclo de vida de una cuenta}.
	\end{UClist}
    }
    %Reglas de negocio: Especifique las reglas de negocio que utiliza este caso de uso
    \UCitem{Reglas de negocio}{
    	\begin{UClist}
	    \UCli \cdtIdRef{RN1}{Campos obligatorios}: Verifica que no se omitan los campos obligatorios del formulario.
	    \UCli \cdtIdRef{RN2}{Formato válido para un correo electrónico}: Verifica que el correo electrónico sea válido.
	    \UCli \cdtIdRef{RN4}{Información Correcta}: Verifica que la contraseña cumpla con la longitud mínima.
	    \UCli \cdtIdRef{RN5}{Unicidad de Elementos}: Verifica que el usuario no se encuentre registrado en In-Help.
	    \UCli \cdtIdRef{RN6}{Formato de contraseña}: Verifica que el formato de la contraseña se cumpla.
	    \UCli \cdtIdRef{RN7}{Fecha de nacimiento válida}: Verifica que la fecha de nacimiento que se esta registrando sea válida.
	\end{UClist}
    }
	\UCitem{Maquinas de estado}{
		\begin{UClist}
			\UCli \hyperlink{cv:Cuenta}{Modelo del ciclo de vida de una cuenta}: Verifica que la cuenta se encuentre en estado \textbf{Activa}.
		\end{UClist}
	}
    % ERRORES: Especifique los casos en los que no se podrá terminar satisfactoriamente el Caso de Uso. Contemple todos los catálogos o listas que deben tener almenos un dato para que se puedan seleccionar dentro de las pantallas asociadas al Caso de Uso.
    % Especifique: La descripción del error (condición), el comportamiento del sistema, y la forma en que el usuario se dará cuenta del error.
    \UCitem{Errores}{
	\begin{UClist}
	    \UCli El usuario omitió un campo marcado como obligatorio: La aplicación mostrará el mensaje \cdtIdRef{MSG2}{Falta dato obligatorio}
		\UCli El usuario ingreso una contraseña que no cumple con la longitud establecida: La aplicación mostrará el mensaje \cdtIdRef{MSG12}{Contraseña y confirmación de contraseña erróneas}.
		\UCli El usuario ingreso un usuario que se encuentra registrado:  La aplicación mostrará el mensaje \cdtIdRef{MSG11}{Elemento duplicado}.
		\UCli La contraseña no corresponde con la confirmación de contraseña: La aplicación mostrará el mensaje \cdtIdRef{MSG12}{Contraseña y confirmación de contraseña erróneas}.
		\UCli EL usuario ingreso una fecha de nacimiento inválida: La aplicación mostrará el mensaje \cdtIdRef{MSG14}{Fecha inválida}.
	\end{UClist}
    }

    % TIPO: Indique si el Caso de Uso es primario o secundario. Los casos de uso son primarios cuando el Actor los puede ejecutar directamente, y secundario cuando este se ejecuta a travéz de una extensión o inclusión de otro caso de uso, en cuyo caso se debe especificar el Caso de Uso relacionado y la trayectoria debe iniciar a partir del paso en el que se extendió o Incluyo el Caso de Uso.
    \UCitem{Tipo}{Primario}

    %FUENTE: Especifique la fuente de información principal para la especificación del Caso de Uso: un documento, sistema existente, persona, minuta. Referencie dicho documento, sistema o persona.
%    \UCitem{Fuente}{
%	\begin{UClist}
%	    \UCli Minuta de la reunión \cdtIdRef{M-17RT}{Reunión de trabajo}.
%	\end{UClist}
%    }
\end{UseCase}


 \begin{UCtrayectoria}
    \UCpaso[\UCactor] Toca el botón \cdtButton{REGISTRATE GRATIS} de la pantalla \cdtIdRef{IUA-1}{Inicio}.
    
    \UCpaso[\UCsist]  Muestra la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
    \UCpaso[\UCactor] Ingresa la información del formulario de la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}. \label{cua12:tb} 
    \UCpaso[\UCactor] Toca el botón \cdtButton{SIGUIENTE} de la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}. \refTray{A}
    \UCpaso[\UCsist] Verifica que los campos obligatorios no se omitan, como lo indica la regla de negocio \cdtIdRef{RN1}{Campos obligatorios}. \refTray{B}
    \UCpaso[\UCsist] Verifica que la información introducida en el campo \textbf{¿Cuál es tu correo electrónico?} sea válida como lo indica la regla de negocio \cdtIdRef{RN2}{Formato válido para un correo electrónico}. \refTray{C}
    \UCpaso[\UCsist] Verifica que el usuario no encuentre registrado como lo indica la regla de negocio \cdtIdRef{RN5}{Unicidad de Elementos}. \refTray{D}
    \UCpaso[\UCsist] Verifica que la información introducida en el campo \textbf{Elige una contraseña} cumpla con lo establecido en la regla de negocio \cdtIdRef{RN6}{Formato de contraseña}. \refTray{E}
    \UCpaso[\UCsist] Verifica que el campo \textbf{Elige una contraseña} tenga la misma información que el campo \textbf{Confirmar contraseña}. \refTray{F}
    \UCpaso[\UCsist] Registra la información de la cuenta para el usuario.
    
    
    \UCpaso[\UCsist]  Obtiene la información establecida en la sección de salidas para la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}.
    \UCpaso[\UCsist]  Construye la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta} con la información obtenida.
    \UCpaso[\UCsist]  Muestra la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}.
    \UCpaso[\UCactor] Ingresa la información del formulario de la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}. \label{cua12:tc}
    \UCpaso[\UCactor] Presiona el botón \cdtButton{¡LISTO!} de la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}. \refTray{G}
    \UCpaso[\UCsist] Verifica que los campos obligatorios no se omitan, como lo indica la regla de negocio \cdtIdRef{RN1}{Campos obligatorios}. \refTray{H}
    \UCpaso[\UCsist] Verifica que la fecha de nacimiento sea válida, como lo indica la regla de negocio \cdtIdRef{RN7}{Fecha de nacimiento válida}. \refTray{I}
    \UCpaso[\UCsist] Registra la información del usuario.
    \UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG13}{Estado de la cuenta}. \label{cua12:pe} 
 \end{UCtrayectoria}



 
 \begin{UCtrayectoriaA}[Fin del caso de uso]{A}{El usuario solicita salir de la pantalla.}
    \UCpaso[\UCactor] Toca el icono \btnRegresar de la pantalla \cdtIdRef{IUA-1.1}{Iniciar Sesión}.
	\UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUA-1}{Inicio}. 
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{B}{El usuario omitió un campo marcado como obligatorio.}
 	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG2}{Falta dato obligatorio} en la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal. 
	
\end{UCtrayectoriaA}


 \begin{UCtrayectoriaA}{C}{El usuario ingreso un nombre de usuario incorrecto}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG3}{Formato de campo incorrecto} en la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal. 
	
\end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{D}{El usuario ingreso un nombre de usuario que ya se encuentra registrado}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG11}{Elemento duplicado} en la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal. 
	
\end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{E}{El usuario ingreso una contraseña que no cumple con el formato establecido.}
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG12}{Contraseña y confirmación de contraseña erróneas} en la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal. 
\end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}[Fin del caso de uso]{F}{La contraseña ingresada no corresponde con el campo confirmación de contraseña}
	
	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG12}{Contraseña y confirmación de contraseña erróneas} en la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal.
	
\end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{G}{El usuario solicita salir de la pantalla.}
    \UCpaso[\UCactor] Toca el icono \btnRegresar de la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}.
	\UCpaso[\UCsist] Muestra la pantalla \cdtIdRef{IUA1.2}{Crear Cuenta}. 
	\UCpaso[] Regresa al paso \ref{cua12:tb} de la trayectoria principal.
 \end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{H}{El usuario omitió un campo marcado como obligatorio.}
 	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG2}{Falta dato obligatorio} en la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tc} de la trayectoria principal. 
\end{UCtrayectoriaA}

 \begin{UCtrayectoriaA}{I}{El actor ingreso una fecha de nacimiento que no es válida.}
 	\UCpaso[\UCsist] Muestra el mensaje \cdtIdRef{MSG14}{Fecha inválida} en la pantalla \cdtIdRef{IUA1.2A}{Crear Cuenta}.
	\UCpaso[] Regresa al paso \ref{cua12:tc} de la trayectoria principal. 
\end{UCtrayectoriaA}


\subsection{Puntos de extensión}

\UCExtensionPoint
{El Usuario desea registrar su información médica}
{ Paso \ref{cua12:pe} de la Trayectoria Principal}
{\cdtIdRef{CUA1.5}{Rregistrar información médica}}

\UCExtensionPoint
{El Usuario desea registrar su información del vehículo}
{ Paso \ref{cua12:pe} de la Trayectoria Principal}
{\cdtIdRef{CUA1.6}{Rregistrar información del vehículo}}

\UCExtensionPoint
{El Usuario desea registrar contactos}
{ Paso \ref{cua12:pe} de la Trayectoria Principal}
{\cdtIdRef{CUA1.7}{Rregistrar contactos}}
